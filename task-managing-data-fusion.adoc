---
sidebar: sidebar 
permalink: task-managing-data-fusion.html 
keywords: data identifiers, personal data, sensitive personal data, compliance, data fusion, data sense 
summary: 'Data Sense는 향후 검색에서 Data Sense가 식별할 수 있는 "개인 데이터"의 사용자 지정 목록을 추가할 수 있는 여러 가지 방법을 제공하므로 잠재적으로 중요한 데이터가 모든 조직의 파일에 있는 위치를 완벽하게 파악할 수 있습니다.' 
---
= 데이터 감지 스캔에 개인 데이터 식별자를 추가합니다
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Data Sense는 향후 검색에서 Data Sense가 식별할 수 있는 "개인 데이터"의 사용자 지정 목록을 추가할 수 있는 여러 가지 방법을 제공하므로, 잠재적으로 중요한 데이터가 _ All _ 조직 파일에 있는 위치를 완벽하게 파악할 수 있습니다.

* 검색 중인 데이터베이스의 특정 열을 기준으로 고유 식별자를 추가할 수 있습니다.
* 텍스트 파일에서 사용자 지정 키워드를 추가할 수 있습니다. -- 이러한 단어는 데이터 내에서 식별됩니다.
* 정규식(regex)을 사용하여 개인 패턴을 추가할 수 있습니다. regex는 기존의 미리 정의된 패턴에 추가됩니다.



NOTE: 이 섹션에 설명된 기능은 데이터 소스에서 전체 분류 검사를 수행하도록 선택한 경우에만 사용할 수 있습니다. 매핑 전용 스캔이 있는 데이터 원본은 파일 수준 세부 정보를 표시하지 않습니다.



== 데이터베이스에서 사용자 지정 개인 데이터 식별자를 추가합니다

Data Fusion _ 라는 기능을 사용하면 조직의 데이터를 스캔하여 데이터베이스에서 고유한 식별자가 다른 데이터 소스에서 검색되는지 여부를 확인할 수 있습니다. 데이터베이스 테이블에서 특정 열 또는 열을 선택하여 데이터 센스가 검색할 추가 식별자를 선택할 수 있습니다. 예를 들어, 아래 다이어그램은 Data Fusion를 사용하여 볼륨, 버킷 및 데이터베이스를 검사하여 Oracle 데이터베이스에서 모든 고객 ID를 확인하는 방법을 보여 줍니다.

image:diagram_compliance_data_fusion.png["데이터베이스의 콘텐츠를 원본으로 사용하여 동일한 데이터가 포함된 파일을 식별하는 방법을 보여 주는 다이어그램입니다."]

보시다시피, 2개의 볼륨과 1개의 S3 버킷에서 2개의 고유 고객 ID가 발견되었습니다. 데이터베이스 테이블의 모든 일치 항목도 식별됩니다.

자신의 데이터베이스를 스캔하기 때문에 데이터가 저장된 언어는 향후 데이터 감지 스캔에서 데이터를 식별하는 데 사용됩니다.

이(가) 있어야 합니다 link:task-scanning-databases.html#adding-the-database-server["하나 이상의 데이터베이스 서버가 추가되었습니다"^] 데이터 Fusion 소스를 추가하기 전에 데이터 감지로

. 구성 페이지에서 소스 데이터가 있는 데이터베이스에서 * 데이터 관리 Fusion * 를 클릭합니다.
+
image:screenshot_compliance_manage_data_fusion.png["데이터 관리 Fusion 버튼을 선택하여 소스 열을 추가하는 스크린샷"]

. 다음 페이지에서 * 데이터 Fusion 소스 추가 * 를 클릭합니다.
. Add Data Fusion Source _ 페이지에서 다음을 수행합니다.
+
.. 드롭다운 메뉴에서 데이터베이스 스키마를 선택합니다.
.. 해당 스키마에 테이블 이름을 입력합니다.
.. 사용할 고유 식별자가 포함된 열 또는 열을 입력합니다.
+
여러 열을 추가할 때는 각 열 이름 또는 표 보기 이름을 별도의 줄에 입력합니다.

+
image:screenshot_compliance_add_data_fusion.png["Data Fusion 소스의 스키마, 테이블 및 열을 식별하는 스크린샷."]



. 데이터 Fusion 소스 추가 * 를 클릭합니다.
+
Data Fusion 인벤토리 페이지에는 데이터 센스를 스캔하도록 구성한 데이터베이스 소스 열이 표시됩니다.

+
image:screenshot_compliance_data_fusion_list.png["Data Fusion로 구성한 모든 데이터 원본 참조의 스크린샷"]



다음 검사 후 결과에는 이 새 정보가 "개인 결과" 섹션의 준수 대시보드 및 "개인 데이터" 필터의 조사 페이지에 포함됩니다. 추가한 각 원본 열은 필터 목록에 "Table.Column" 형식(예: "Customers.CustomerID")으로 나타납니다.

image:screenshot_add_data_fusion_result.png["조사 결과 창에 Data Fusion 결과의 예가 표시된 스크린샷"]



=== Data Fusion 소스를 삭제합니다

특정 Data Fusion 소스를 사용하여 파일을 검색하지 않기로 결정한 경우 Data Fusion 인벤토리 페이지에서 소스 행을 선택하고 * Delete Data Fusion Source * 를 클릭할 수 있습니다.

image:screenshot_compliance_delete_data_fusion.png["데이터 Fusion 소스를 제거하는 방법을 보여 주는 스크린샷"]



== 텍스트 파일에서 사용자 지정 키워드를 추가합니다

데이터 센스에 사용자 정의 키워드를 추가하여 데이터의 특정 정보를 식별할 수 있습니다. 정의한 텍스트 파일에서 키워드를 추가합니다. 키워드는 데이터 센스에서 이미 사용하는 기존의 미리 정의된 키워드에 추가되며, 결과는 개인 패턴 섹션 아래에 표시됩니다.

예를 들어, 안전하지 않은 위치에서 이러한 이름에 액세스할 수 없도록 모든 파일에서 내부 제품 이름이 언급된 위치를 확인할 수 있습니다.

사용자 지정 키워드를 업데이트한 후 데이터 센스에서 모든 데이터 소스 스캔을 다시 시작합니다. 스캔이 완료되면 데이터 센스에 새 결과가 나타납니다.

데이터 감지 시스템의 다음 위치에 사용자 정의 키워드가 포함된 텍스트 파일을 추가하거나 생성해야 합니다.

 /opt/netapp/Datasense/tools/datascience/custom_keywords/keywords_sets
여러 키워드가 포함된 단일 파일을 만들거나 각 파일에 특정 키워드가 포함된 여러 파일을 추가할 수 있습니다. 파일의 형식은 각 줄에 한 단어로 되어 있습니다. 예를 들어 부엉이 유형의 내부 제품 이름은 다음과 같습니다.

_INTERNAL_PRODUCT_NELames.txt_

....
barred
barn
horned
snowy
screech
....
이러한 항목에 대한 데이터 감지 검색은 대/소문자를 구분하지 않습니다.

다음 요구 사항을 참고하십시오.

* 파일 이름에는 숫자를 사용할 수 없습니다.
* 각 파일에는 최대 100,000개의 단어가 포함될 수 있습니다. 단어가 더 있으면 처음 100,000개만 추가됩니다.
* 각 단어의 길이는 3자 이상이어야 합니다. 짧은 단어는 무시됩니다.
* 중복 단어는 한 번만 추가됩니다.




=== 명령줄에 액세스하는 중입니다

사용자 지정 키워드를 추가하려면 데이터 감지 시스템에 액세스해야 합니다.

데이터 센스를 사내에 설치하면 명령줄에 직접 액세스할 수 있습니다.

Data Sense가 클라우드에 배포되면 데이터 감지 인스턴스에 SSH를 사용할 수 있습니다. 사용자 및 암호를 입력하거나 BlueXP Connector 설치 중에 제공한 SSH 키를 사용하여 시스템에 SSH를 수행합니다. SSH 명령은 다음과 같습니다.

 ssh -i <path_to_the_ssh_key> <machine_user>@<datasense_ip>
* path_to_the_ssh_key> = ssh 인증 키의 위치입니다
* machine_user>:
+
** AWS의 경우 <EC2-USER>를 사용합니다
** Azure의 경우: BlueXP 인스턴스에 대해 생성한 사용자를 사용합니다
** GCP의 경우: BlueXP 인스턴스에 대해 생성한 사용자를 사용합니다


* datasense_ip> = 가상 시스템 인스턴스의 IP 주소입니다


시스템에 액세스하려면 보안 그룹 인바운드 규칙을 수정해야 합니다. 자세한 내용은 다음을 참조하십시오.

* https://docs.netapp.com/us-en/cloud-manager-setup-admin/reference-ports-aws.html["AWS의 보안 그룹 규칙"^]
* https://docs.netapp.com/us-en/cloud-manager-setup-admin/reference-ports-azure.html["Azure의 보안 그룹 규칙"^]
* https://docs.netapp.com/us-en/cloud-manager-setup-admin/reference-ports-gcp.html["Google Cloud의 방화벽 규칙"^]




=== 명령 구문을 사용하여 사용자 지정 키워드를 추가합니다

파일에서 사용자 지정 키워드를 추가하는 명령 구문은 다음과 같습니다.

 sudo bash tools/datascience/custom_keywords/upload_custom_keywords.sh -s activate -f <file_name>.txt
* file_name> = 키워드가 포함된 파일의 이름입니다.


경로 * /opt/NetApp/Datasense/ * 에서 명령을 실행합니다.

사용자 지정 키워드가 포함된 파일을 여러 개 만든 경우 다음 명령을 사용하여 모든 파일의 키워드를 한 번에 추가할 수 있습니다.

 sudo bash tools/datascience/custom_keywords/upload_custom_keywords.sh -s activate


=== 예

모든 파일에서 내부 제품 이름이 언급된 위치를 확인하려면 다음 명령을 입력합니다.

[source, cli]
----
[user ~]$ cd /opt/netapp/Datasense/
[user Datasense]$ sudo bash tools/datascience/custom_keywords/upload_custom_keywords.sh -s activate -f internal_product_names.txt
----
 log v1.0 | 2022-08-24 08:16:25,332 | INFO | ds_logger | upload_custom_keywords | 126 | 1 | None | upload_custom_keywords_126 | All legal keywords were successfully inserted
다음 검사 후 결과에는 이 새 정보가 "개인 결과" 섹션의 준수 대시보드 및 "개인 데이터" 필터의 조사 페이지에 포함됩니다.

image:screenshot_add_keywords_result.png["조사 결과 창에 사용자 정의 키워드 결과의 예를 보여 주는 스크린샷."]

보시다시피 텍스트 파일의 이름은 개인 결과 패널에서 이름으로 사용됩니다. 이러한 방식으로 다른 텍스트 파일의 키워드를 활성화하고 각 키워드 유형에 대한 결과를 볼 수 있습니다.



=== 사용자 지정 키워드를 비활성화합니다

나중에 사용자가 이전에 추가한 특정 사용자 지정 키워드를 식별하기 위해 데이터 센스를 필요로 하지 않을 경우 명령에서 * deactivate * 옵션을 사용하여 텍스트 파일에 정의된 키워드를 제거합니다.

 sudo bash tools/datascience/custom_keywords/upload_custom_keywords.sh -s deactivate -f <file_name>.txt
예를 들어, * internal_product_names.txt * 파일에 정의된 키워드를 제거하려면:

[source, cli]
----
[user ~]$ cd /opt/netapp/Datasense/
[user Datasense]$ sudo bash tools/datascience/custom_keywords/upload_custom_keywords.sh -s deactivate -f internal_product_names.txt
----
 log v1.0 | 2022-08-24 08:16:25,332 | INFO | ds_logger | upload_custom_keywords | 87 | 1 | None | upload_custom_keywords_87 | Deactivated keyword pattern from internal_product_names.txt successfully


== regex를 사용하여 사용자 지정 개인 데이터 식별자를 추가합니다

사용자 지정 정규식(regex)을 사용하여 개인 패턴을 추가하여 데이터의 특정 정보를 식별할 수 있습니다. regex는 이미 Data Sense에서 사용하는 기존의 미리 정의된 패턴에 추가되며, 결과는 개인 패턴 섹션 아래에 표시됩니다.

예를 들어 모든 파일에서 내부 제품 ID가 언급된 위치를 확인할 수 있습니다. 예를 들어 제품 ID가 명확한 구조를 갖는 경우 201로 시작하는 12자리 숫자입니다. 사용자 지정 regex 기능을 사용하여 파일에서 검색할 수 있습니다.

regex를 추가하면 데이터 센스가 모든 데이터 소스 스캔을 다시 시작합니다. 스캔이 완료되면 데이터 센스에 새 결과가 나타납니다.



=== regex를 추가하는 명령 구문

사용자 지정 키워드 패턴이 포함된 파일을 추가하고 명령을 시작하여 사용자 지정 키워드를 추가하려면 Data Sense 시스템에 액세스해야 합니다.  the command line,명령줄에 액세스하는 방법을 참조하십시오 데이터 센스를 사내에 설치했거나 클라우드를 구축했는지 여부에 관계없이

사용자 지정 regex를 추가하는 명령 구문은 다음과 같습니다.

 sudo bash tools/datascience/custom_regex/custom_regex.sh -s activate -n "<pattern_name>" -r "<regular_expression>"
* pattern_name> = 데이터 감지 UI에 표시되는 이름입니다. 이름이 regex가 찾을 내용을 식별하는지 확인합니다. 이름은 하나 이상의 문자를 포함해야 하며 최대 70자까지 입력할 수 있습니다.
* 정규식> = 임의의 유효한 정규식이 될 수 있습니다.


경로 * /opt/NetApp/Datasense/ * 에서 명령을 실행합니다.

새로운 각 Regex를 테스트하여 너무 넓어서 너무 많은 일치 항목을 반환하는지 확인합니다. 이 경우 다음과 같은 로그 메시지가 나타납니다.

 log v1.0 | 2022-08-17 07:24:19,585 | ERROR | ds_logger | custom_regex | 119 | 1 | None | custom_regex_119 | The regex has high risk to identify false positives. Please narrow the regular expression and try again. To add it anyway, use the force flag (-f) at the end
regex를 Data Sense에 강제로 추가하려는 경우 명령줄 끝에 있는 * -f * 옵션을 사용할 수 있습니다. 너무 넓다고 생각해도 마찬가지입니다.



=== 예

제품 ID는 201로 시작하는 12자리 숫자입니다. 정규식은 * \b201\d{9}\b * 입니다. 이 패턴을 * 내부 제품 ID * 로 식별하려면 데이터 감지 UI의 텍스트를 사용합니다.

모든 파일에서 내부 제품 ID가 언급된 위치를 확인하려면 다음 명령을 입력합니다.

[source, cli]
----
[user ~]$ cd /opt/netapp/Datasense/
[user Datasense]$ sudo bash tools/datascience/custom_regex/custom_regex.sh -s activate -n "Internal Product ID" -r "\b201\d{9}\b"
----
....
[+] Adding Custom Regex to Data Sense
log v1.0 | 2022-08-23 13:19:01,476 | INFO | ds_logger | custom_regex | 154 | 1 | None | custom_regex_154 | A pattern named 'Internal Product ID' was added successfully to Data Sense
....
다음 검사 후 결과에는 이 새 정보가 "개인 결과" 섹션의 준수 대시보드 및 "개인 데이터" 필터의 조사 페이지에 포함됩니다.

image:screenshot_add_regex_result.png["조사 결과 창에 사용자 지정 정규식 결과의 예를 보여 주는 스크린샷"]



=== 사용자 지정 regex를 비활성화합니다

나중에 regex로 입력한 사용자 지정 패턴을 식별하기 위해 데이터 센스가 필요하지 않다고 판단될 경우 명령에서 * deactivate * 옵션을 사용하여 각 regex를 제거합니다.

 sudo bash tools/datascience/custom_regex/custom_regex.sh -s deactivate -n "<pattern name>"
예를 들어 * 내부 제품 ID * regex를 제거하려면

[source, cli]
----
[user ~]$ cd /opt/netapp/Datasense/
[user Datasense]$ sudo bash tools/datascience/custom_regex/custom_regex.sh -s deactivate -n "Internal Product ID"
----
 log v1.0 | 2022-08-17 09:13:15,431 | INFO | ds_logger | custom_regex | 31 | 1 | None | custom_regex_31 | A pattern named 'Internal Product ID' was deactivated successfully